---
layout: post
title:  "Uhrzeit auf dem ESP32"
date:   2020-10-07
tags: ESP32 Micropython WLAN
---


Die integrierte Uhr des ESP läuft ab dessen Start.

Die Laufzeit kann man wie folgt ermitteln

```python
import time
print(time.time())
print(time.ticks_ms())
print(time.ticks_us())
```
Man kann also die Zeit in Sekunden, Millisekunden und Mikrosekunden anzeigen lassen.

Mit 

```python
import time
print(time.localtime())
```

bekommt man den Wert (2000, 1, 1, 0, 7, 19, 5, 1), das ist ein Tupel bestehend aus:
* Jahr
* Monat (1-12)
* Tag (1-31)
* Stunde (0-24)
* Minute (0-59)
* Sekunde (0-59)
* Wochentag (0-6 für Montag bis Sonntag)
* Tag des Jahres (1-366)

Der Beginn der Zeitrechnung startet dabei am 01.01.2000 (= Zeitpunkt des Einschaltens)

Um eine korrektes Datum und die korrekte Uhrzeit zu erhalten, kann man diese mit dem Network-Time-Protokoll aus dem Internet beziehen. Dafür ist eine WLAN-Verbindung zum Internet erforderlich.

```python
import ntptime
import time
ntptime.settime()
print(localtime())
```



https://docs.micropython.org/en/latest/library/utime.html